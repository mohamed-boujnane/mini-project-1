#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define MAX 500

int main()
{

int count = 0;
char titres[MAX][40];
char auteurs[MAX][40];
float prix[MAX];
int quantites[MAX];

void ajouterLivreMenu();
void afficherAllLivres();
void searchLivreParTitreMenu();
void MAJQteLivreMenu();
void supprimerLivreMenu();
void menuPrincipal();
void afficherTotalLivresEnStock();

void ajouterLivreMenu() {
    printf("Saisir le titre du livre : ");
    scanf(" %[^\n]s", &titres[count]);
    printf("Saisir l'auteur du livre : ");
    scanf(" %[^\n]s", &auteurs[count]);
    printf("Saisir le prix du livre : ");
    scanf("%f", &prix[count]);
    printf("Saisir le quantite du livre : ");
    scanf("%d", &quantites[count]);
    count++;

    printf("Livre ajouté \n");
    menuPrincipal();
}

void menuPrincipal() {
    int choix;

   
        printf("\n--- Système de Gestion de Stock de Librairie ---\n");
        printf("1. Ajouter un livre\n");
        printf("2. Afficher tous les livres\n");
        printf("3. Rechercher un livre par son titre\n");
        printf("4. Mettre à jour la quantité d'un livre\n");
        printf("5. Supprimer un livre\n");
        printf("6. Afficher le nombre total de livres en stock\n");
        printf("7. Quitter\n");
        printf("Entrez votre choix: ");
        scanf("%d", &choix);
    switch(choix) {
        case 1 : ajouterLivreMenu(); break;
        case 2 : afficherAllLivres(); break;
        case 3 : searchLivreParTitreMenu(); break;
        case 4 : MAJQteLivreMenu(); break;
        case 5 : supprimerLivreMenu(); break;
        case 6 : afficherTotalLivresEnStock(); break;
        case 7 : exit;
    }
}

void afficherAllLivres() {
    int i, choix;

    printf("# | Titre | Auteur | Prix | Quantité\n");
    for(i=0; i<count; i++) {
        printf("%d |  %s |  %s | %f | %d \n", count, titres[i], auteurs[i], prix[i], quantites[i]);
    }
    printf("1. Revenir au Menu Principal.\n2. Quitter");
    scanf("%d", &choix);
    if(choix == 1) menuPrincipal();
    else exit;
}
 return 0;
 }
